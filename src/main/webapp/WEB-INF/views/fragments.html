<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Fragments</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
<script src="https://kit.fontawesome.com/your-real-kit-id.js" crossorigin="anonymous"></script>
</head>

<body class="pt-32 container mx-auto px-4 sm:px-6 lg:px-8 py-8">
<!-- Header Fragment -->
<div th:fragment="header">
    <header class="bg-[#1a1a1a] text-white shadow-md fixed top-0 left-0 w-full z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="/user/home" class="text-2xl font-bold select-none whitespace-nowrap">
                     Apple Store
                </a>

                <!-- Navigation -->
                <nav class="hidden md:flex space-x-6 font-semibold text-white ml-10">
                    <a href="/user/home" class="hover:text-orange-500">Home page</a>
                    <a th:href="@{/user/introduce}" class="hover:text-orange-500">Introduce</a>
                    <a href="/promotions" class="hover:text-orange-500">Promotion</a>
                    <a href="/news" class="hover:text-orange-500">News</a>
                    <a th:href="@{/orders/history}" class="hover:text-orange-600 text-sm">My order</a>
                </nav>

                <!-- Right section: Search + Icons -->
                <div class="flex items-center space-x-4">
                    <!-- Search bar -->
                    <form action="/user/search" method="get"
                          class="hidden md:flex w-64 bg-white rounded overflow-hidden text-black">
                        <input type="text" name="keyword" placeholder="Product search..."
                               class="px-3 py-2 w-full focus:outline-none"/>
                        <button type="submit" class="px-3 bg-orange-600 text-white hover:bg-orange-700">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>

                    <!-- Cart -->
                    <a href="/cartController/cartView" class="relative group">
                        <i class="fas fa-shopping-cart text-xl transition duration-200 ease-in-out group-hover:text-orange-500"></i>
                        <span class="absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full px-1 z-10 pointer-events-none"
                              th:text="${cartItemCount}">0</span>
                    </a>

                    <!-- Logout -->
                    <a href="#" onclick="openLogoutModal(event)" class="hover:text-orange-500 hidden md:inline-flex">
                        <i class="fas fa-sign-out-alt text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>
</div>





<!-- FOOTER FRAGMENT -->
<div th:fragment="footer">
    <footer class="bg-[#1a1a1a] text-white py-12 px-6">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10">
            <!-- Contact Information -->
            <div>
                <h2 class="text-lg font-bold mb-4">Contact Information</h2>
                <p class="font-semibold">NHAN HOA SOFTWARE COMPANY LIMITED</p>
                <p class="mt-2 flex items-start"><i class="fas fa-map-marker-alt mr-2 mt-1"></i> 4th Floor, 97 - 99 Lang Ha Street, Dong Da District, Hanoi (Petrowaco Building)</p>
                <p class="mt-2"><i class="fas fa-phone-alt mr-2"></i>0901191616 - 1900 6680</p>
                <p class="mt-2"><i class="fas fa-envelope mr-2"></i>contact@sm4s.vn</p>
                <div class="flex space-x-4 mt-4">
                    <a href="https://www.facebook.com/apple"><i class="fab fa-facebook-f text-2xl hover:text-gray-400"></i></a>
                    <a href="https://apps.apple.com/us/app/x/id333903271"><i class="fab fa-twitter text-2xl hover:text-gray-400"></i></a>
                    <a href="https://www.apple.com/vn/store?afid=p240%7Cgo~cmp-20129721283~adg-150705412924~ad-745052141039_kwd-12522920~dev-c~ext-~prd-~mca-~nt-search&cid=aos-vn-kwgo-brand--"><i class="fab fa-google-plus-g text-2xl hover:text-gray-400"></i></a>
                    <a href="https://www.instagram.com/apple/"><i class="fab fa-instagram text-2xl hover:text-gray-400"></i></a>
                    <a href="#"><i class="fab fa-youtube text-2xl hover:text-gray-400"></i></a>
                </div>
            </div>

            <!-- Policies -->
            <div>
                <h2 class="text-lg font-bold mb-4">Policies</h2>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li><a href="#" class="hover:text-white">→ Terms of Service</a></li>
                    <li><a href="#" class="hover:text-white">→ Privacy Policy</a></li>
                    <li><a href="#" class="hover:text-white">→ Shipping Policy</a></li>
                    <li><a href="#" class="hover:text-white">→ Return Policy</a></li>
                    <li><a href="#" class="hover:text-white">→ Purchase Policy</a></li>
                </ul>
            </div>

            <!-- Links -->
            <div>
                <h2 class="text-lg font-bold mb-4">Links</h2>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li><a href="#" class="hover:text-white">→ About Us</a></li>
                    <li><a href="#" class="hover:text-white">→ Latest News</a></li>
                    <li><a href="#" class="hover:text-white">→ Essential Information</a></li>
                    <li><a href="#" class="hover:text-white">→ FAQs</a></li>
                    <li><a href="#" class="hover:text-white">→ Online Support</a></li>
                </ul>
            </div>

            <!-- Products -->
            <div>
                <h2 class="text-lg font-bold mb-4">Products</h2>
                <ul class="space-y-2 text-sm text-gray-300">
                    <li><a href="#" class="hover:text-white">→ Mobile Phones</a></li>
                    <li><a href="#" class="hover:text-white">→ Desktop Computers</a></li>
                    <li><a href="#" class="hover:text-white">→ Laptops</a></li>
                    <li><a href="#" class="hover:text-white">→ Keyboards</a></li>
                    <li><a href="#" class="hover:text-white">→ Mice</a></li>
                </ul>
            </div>
        </div>


    <!-- Copyright -->
        <div class="border-t border-gray-600 mt-12 pt-4 text-center text-sm text-gray-400">
            &copy; 2025 Apple Store. All rights reserved.
        </div>
    </footer>

</div>

<aside th:fragment="aside" class="bg-white shadow-md w-64 fixed top-0 left-0 h-full flex flex-col z-10">
    <div class="px-6 py-8 border-b border-gray-200 flex-shrink-0">
        <h2 class="text-3xl font-semibold text-gray-800">Product List</h2>
    </div>
    <nav class="flex-grow px-6 py-4 flex flex-col justify-between">
        <ul class="flex flex-col space-y-4 text-gray-700 font-semibold">
            <li>
                <a th:href="@{/admin/homeAdmin}" class="flex items-center space-x-3 p-3 rounded-md hover:bg-blue-100 hover:text-blue-600 transition">
                    <i class="fas fa-box-open text-lg"></i>
                    <span>Quản lý sản phẩm</span>
                </a>
            </li>
            <li>
                <a th:href="@{/admin/userManagement}" class="flex items-center space-x-3 p-3 rounded-md hover:bg-yellow-100 hover:text-yellow-600 transition">
                    <i class="fas fa-users text-lg"></i>
                    <span>Quản lý người dùng</span>
                </a>
            </li>
        </ul>
    </nav>
    <div class="px-6 py-4 border-t">
        <a th:href="@{/admin/logout}" class="flex items-center space-x-3 p-3 rounded-md text-red-600 hover:bg-red-100 hover:text-red-800 transition font-semibold">
            <i class="fas fa-sign-out-alt text-lg"></i>
            <span>Đăng xuất</span>
        </a>
    </div>
</aside>



<!-- Modal xác nhận logout -->
<div id="logoutModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50 hidden">
    <div class="bg-white p-6 rounded-xl shadow-2xl w-80 text-center animate-fade-in">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">
            Are you sure you want to log out?
        </h2>
        <div class="flex justify-center gap-4">
            <a href="/user/logout"
               class="px-4 py-2 rounded-md bg-orange-500 text-white hover:bg-orange-600 transition duration-200">
                Logout
            </a>
            <button onclick="closeLogoutModal()"
                    class="px-4 py-2 rounded-md bg-gray-200 text-gray-700 hover:bg-gray-300 transition duration-200">
                Cancel
            </button>
        </div>
    </div>
</div>
<script>
    function openLogoutModal(event) {
        event.preventDefault();
        document.getElementById('logoutModal').classList.remove('hidden');
    }

    function closeLogoutModal() {
        document.getElementById('logoutModal').classList.add('hidden');
    }

    // Optional: đóng khi click nền đen
    document.addEventListener('click', function (e) {
        const modal = document.getElementById('logoutModal');
        if (!modal.classList.contains('hidden') && e.target === modal) {
            closeLogoutModal();
        }
    });
</script>
</body>
</html>
